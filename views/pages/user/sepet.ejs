<%- include('../../partials/header') %>

    <div class="bg-brand-dark p-8 w-full shadow-lg">
        <h1 class="text-3xl font-bold mb-6 text-brand-red border-b pb-4">Alışveriş Sepeti</h1>

        <% if (data.cart && data.cart.length> 0) { %>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

                <!-- Sol Taraf: Ürün Listesi -->
                <div class="lg:col-span-2">
                    <div class="flow-root">
                        <ul role="list" class="-my-6 divide-y divide-gray-200">
                            <% data.cart.forEach(product=> { %>
                                <li class="flex py-6">
                                    <div
                                        class="h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200">
                                        <!-- Ürün resmi eklenebilir -->
                                        <div class="h-full w-full bg-gray-200 flex items-center justify-center">
                                            <span class="text-gray-500">Ürün</span>
                                        </div>
                                    </div>

                                    <div class="ml-4 flex flex-1 flex-col">
                                        <div>
                                            <div class="flex justify-between text-base font-medium text-gray-900">
                                                <h3>
                                                    <%= product.name %>
                                                </h3>
                                                <p class="ml-4">
                                                    <%= product.price %>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="flex flex-1 items-end justify-between text-sm">
                                            <p class="text-gray-500">Adet: 1</p>
                                            <div class="flex">
                                                <a href="/sepet/kaldir/<%= product.id %>"
                                                    class="font-medium text-brand-red hover:text-opacity-80">Kaldır</a>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <% }); %>
                        </ul>
                    </div>
                </div>

                <!-- Sağ Taraf: Sipariş Özeti -->
                <div class="lg:col-span-1">
                    <div class="border border-gray-200 rounded-lg p-6">
                        <h2 class="text-lg font-medium text-gray-900 border-b pb-3">Sipariş Özeti</h2>
                        <div class="mt-4 space-y-2">
                            <div class="flex items-center justify-between">
                                <dt class="text-sm text-gray-600">Ara Toplam</dt>
                                <dd class="text-sm font-medium text-gray-900">
                                    <%= data.total %> TL
                                </dd>
                            </div>
                            <div class="flex items-center justify-between border-t pt-2 mt-2">
                                <dt class="text-base font-bold text-gray-900">Genel Toplam</dt>
                                <dd class="text-base font-bold text-gray-900">
                                    <%= data.total %> TL
                                </dd>
                            </div>
                        </div>
                        <div class="mt-8">
                            <div class="flex justify-end">
                                <a href="/odeme" class="btn btn-primary group font-bold py-3 px-6 rounded-lg text-lg">
                                    <span class="bg-overlay"></span><span class="border-anim top"></span><span
                                        class="border-anim bottom"></span><span class="border-anim left"></span><span
                                        class="border-anim right"></span>
                                    <span class="text-content">Ödemeye Geç</span>
                                </a>
                            </div>
                        </div>
                        <div class="mt-4 flex justify-center text-center text-sm text-gray-500">
                            <p>
                                veya
                                <a href="/urunler" class="font-medium text-brand-red hover:text-opacity-80">
                                    Alışverişe Devam Et
                                    <span aria-hidden="true"> &rarr;</span>
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <% } else { %>
                <div class="text-center py-12">
                    <p class="text-gray-600 text-lg mb-4">Sepetinizde henüz ürün bulunmuyor.</p>
                    <a href="/urunler"
                        class="bg-brand-red hover:bg-opacity-90 text-white font-bold py-2 px-4 rounded transition-colors">
                        Hemen Alışverişe Başla
                    </a>
                </div>
                <% } %>
    </div>

    <%- include('../../partials/footer') %>