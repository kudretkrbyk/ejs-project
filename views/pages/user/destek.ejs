<%- include('../../partials/header') %>

    <div class="bg-brand-dark-100 p-8  shadow-xl">
        <h1 class="text-3xl font-bold mb-2 text-white">Destek Taleplerim</h1>
        <p class="text-gray-300 mb-8">Destek taleplerini buradan görüntüleyebilir, yeni talep oluşturabilirsin.</p>

        <div class="flex justify-end mb-6">
            <button id="new-ticket-btn"
                class="bg-brand-red hover:bg-red-700 text-white font-bold py-2 px-5 rounded shadow transition duration-300">Yeni
                Talep Oluştur</button>
        </div>

        <div class="overflow-x-auto bg-brand-dark rounded-xl shadow-md">
            <table class="min-w-full  divide-gray-700">
                <thead class="bg-gray-800">
                    <tr>
                        <th class="py-4 px-6 text-left text-gray-300 font-semibold uppercase text-sm">Talep ID</th>
                        <th class="py-4 px-6 text-left text-gray-300 font-semibold uppercase text-sm">Konu</th>
                        <th class="py-4 px-6 text-left text-gray-300 font-semibold uppercase text-sm">Durum</th>
                        <th class="py-4 px-6 text-left text-gray-300 font-semibold uppercase text-sm">Oluşturulma</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-700">
                    <% data.tickets.forEach(ticket=> { %>
                        <tr class="hover:bg-gray-700 transition">
                            <td class="py-4 px-6 text-white">
                                <%= ticket.id %>
                            </td>
                            <td class="py-4 px-6 text-gray-300">
                                <%= ticket.subject %>
                            </td>
                            <td class="py-4 px-6">
                                <span class="px-3 py-1 rounded-full text-xs font-bold
                                <%= ticket.status === 'Açık' ? 'bg-yellow-500 text-black' : '' %>
                                <%= ticket.status === 'Cevaplandı' ? 'bg-green-500 text-black' : '' %>
                                <%= ticket.status === 'Kapandı' ? 'bg-gray-500 text-white' : '' %>">
                                    <%= ticket.status %>
                                </span>
                            </td>
                            <td class="py-4 px-6 text-gray-400">
                                <%= new Date(ticket.createdAt).toLocaleDateString('tr-TR') %>
                            </td>
                        </tr>
                        <% }); %>
                </tbody>
            </table>
        </div>
    </div>

    <%- include('../../partials/footer') %>